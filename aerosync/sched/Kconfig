# SPDX-License-Identifier: GPL-2.0-only

menu "scheduler"

config SCHED_SMT
    bool "SMT (Hyperthreading) scheduler support"
    default y
    help
      Improve the scheduler's decision making when dealing with SMT (Simultaneous
      Multi-Threading) siblings. This ensures that the scheduler avoids
      scheduling multiple tasks on the same physical core if other cores are
      completely idle.

config SCHED_MC
    bool "Multi-core scheduler support"
    default y
    help
      Enable Multi-core (MC) domain scheduling. This helps the scheduler
      understand cache sharing (LLC) between cores, allowing for better
      locality-aware task placement.

config SCHED_HYBRID
    bool "Hybrid (P/E core) scheduler support"
    default y
    help
      Enable support for Intel Hybrid architectures (e.g. Alder Lake, Raptor Lake).
      The scheduler will distinguish between Performance (P) cores and Efficiency (E)
      cores, preferring P-cores for compute-intensive tasks and E-cores for
      background tasks.


config SCHED_LOAD_TRACKING_PELT
    bool "PELT (Per-Entity Load Tracking)"
    default y
    help
      Use Linux-like PELT for tracking task and runqueue load.

config SCHED_AUTO_BALANCE
    bool "Automatic scheduler load balancing"
    default n
    help
      Enable dynamic load balancing and tasks migration across CPUs

config SCHED_TICK_STAGGER
    bool "Stagger periodic scheduler tasks"
    depends on SCHED_AUTO_BALANCE
    default y
    help
      Stagger periodic tasks like load balancing across CPUs to avoid
      synchronized lock contention.

config SCHED_LB_PERIOD_MS
    int "Load balancing period (ms)"
    depends on SCHED_AUTO_BALANCE
    default 100
    help
      Interval between periodic load balancing attempts.

config UNSAFE_USER_TASK_SPAWN
    bool "Enable spawn_user_process_raw()"
    depends on INCLUDE_DEPRECATED_CODE
    default n
    help
      Export the spawn_user_process_raw() API for use
      A deprecated, internal-only unsafe function that spawns
      a user process from a buffer

endmenu
